{"version":3,"sources":["index.tsx"],"names":["Bridge","name","key","this","data","Streamlit","setComponentValue","global","window","top","stBridges","parent","getGlobal","undefined","bridges","send","events","addEventListener","RENDER_EVENT","event","detail","bridge","args","setComponentReady"],"mappings":"4LAEMA,E,WAIJ,WAAYC,EAAcC,GAA8B,yBAHjDD,UAGgD,OAFhDC,SAEgD,EACrDC,KAAKF,KAAOA,EACZE,KAAKD,IAAMA,E,wCAGb,SAAYE,GACVC,IAAUC,kBAAkBF,O,KAuBhC,IAAMG,EAhBN,WACE,IAAIA,EACJ,IAKqBC,OAAOC,IAAYC,UAEtCH,EAASC,OAAOC,KAAOD,OAAOG,OAC9B,SACAJ,EAASC,OAAOG,OAElB,OAAOJ,EAGMK,GAEf,QAAkCC,IAA7BN,EAAeG,UAAyB,CAC3C,IAAMA,EAAY,CAChBI,QAAS,GACTC,KAAM,SAACd,EAAcG,GACnBM,EAAUI,QAAQb,GAAMc,KAAKX,KAGhCG,EAAeG,UAAYA,EAuB9BL,IAAUW,OAAOC,iBAAiBZ,IAAUa,cAf5C,SAAkBC,GAEhB,IAAMf,EAAQe,EAAkCC,OAE1CV,EAAaH,EAAeG,UAC5BW,EAASjB,EAAKkB,KAAL,KACTpB,EAAME,EAAKkB,KAAL,UACsBT,IAA9BH,EAAUI,QAAQO,IAEXX,EAAUI,QAAQO,GAAQnB,MAAQA,KAD3CQ,EAAUI,QAAQO,GAAU,IAAIrB,EAAOqB,EAAQnB,OAWnDG,IAAUkB,sB","file":"static/js/main.4ec68a9f.chunk.js","sourcesContent":["import { Streamlit, RenderData } from \"streamlit-component-lib\";\n\nclass Bridge {\n  public name: string;\n  public key: string | number | null;\n\n  constructor(name: string, key: string | number | null) {\n    this.name = name;\n    this.key = key;\n  }\n\n  public send(data: any) {\n    Streamlit.setComponentValue(data);\n  }\n}\n\n// store data in the topmost window in the window hierarchy as the component\n// is rendered inside an iframe.\n\nfunction getGlobal() {\n  let global: Window;\n  try {\n    /* Try to access a property of window.top. This will fail when window.top\n       is unset or cross-origin doesn't allow us to access window.top\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const stBridges = (window.top as any).stBridges;\n\n    global = window.top || window.parent;\n  } catch {\n    global = window.parent;\n  }\n  return global;\n}\n\nconst global = getGlobal();\n\nif ((global as any).stBridges === undefined) {\n  const stBridges = {\n    bridges: {} as { [key: string]: Bridge },\n    send: (name: string, data: any) => {\n      stBridges.bridges[name].send(data);\n    },\n  };\n  (global as any).stBridges = stBridges;\n}\n\n/**\n * The component's render function. This will be called immediately after\n * the component is initially loaded, and then again every time the\n * component gets new data from Python.\n */\nfunction onRender(event: Event): void {\n  // Get the RenderData from the event\n  const data = (event as CustomEvent<RenderData>).detail;\n\n  const stBridges = (global as any).stBridges;\n  const bridge = data.args[\"name\"];\n  const key = data.args[\"key\"];\n  if (stBridges.bridges[bridge] === undefined) {\n    stBridges.bridges[bridge] = new Bridge(bridge, key);\n  } else if (stBridges.bridges[bridge].key !== key) {\n    stBridges.bridges[bridge] = new Bridge(bridge, key);\n  }\n}\n\n// Attach our `onRender` handler to Streamlit's render event.\nStreamlit.events.addEventListener(Streamlit.RENDER_EVENT, onRender);\n\n// Tell Streamlit we're ready to start receiving data. We won't get our\n// first RENDER_EVENT until we call this function.\nStreamlit.setComponentReady();\n"],"sourceRoot":""}